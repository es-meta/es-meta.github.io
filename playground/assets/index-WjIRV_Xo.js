import{X as g,r as l,j as e,i as j,ao as b,u as x,ap as A,a7 as f,a3 as F,aq as H,a6 as J,aj as D}from"./index-u4wQXj53.js";import{S as k}from"./StateViewerItem-CuUZi7Ap.js";import{C as v,a as y,T as G}from"./TreeAddress-CnfQxT8s.js";import{v as N}from"./v4-BKrj-4V8.js";import{t as T}from"./ordinal.utils-BB0KuaeA.js";import"./tooltip-DQxzrpit.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=g("FoldVertical",[["path",{d:"M12 22v-6",key:"6o8u61"}],["path",{d:"M12 8V2",key:"1wkif3"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}],["path",{d:"m15 19-3-3-3 3",key:"e37ymu"}],["path",{d:"m15 5-3 3-3-3",key:"19d6lf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=g("UnfoldVertical",[["path",{d:"M12 22v-6",key:"6o8u61"}],["path",{d:"M12 8V2",key:"1wkif3"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m15 5-3-3-3 3",key:"itvq4r"}]]);function U(a){return a?!0:void 0}const q=`
  even:bg-neutral-400/10 odd:bg-neutral-400/5 text-xs
  hover:bg-neutral-400/5 active:bg-green-500/25 transition-all cursor-pointer
  data-[highlight]:even:bg-green-500/25 data-[highlight]:odd:bg-green-500/25 data-[highlight]:hover:bg-green-500/50
`;function O({idx:a,globalExpand:t,setGlobalExpand:s,...n}){const[c,r]=l.useState(!1);return l.useEffect(()=>{t!==null&&r(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:q,onClick:()=>{},children:[e.jsx("td",{className:"py-1 border-r text-center",children:a}),e.jsx("td",{className:"border-r text-center text-wrap break-all",children:n.type}),e.jsx("td",{className:"",children:e.jsx("button",{className:"size-full flex items-center justify-center",onClick:o=>{o.stopPropagation(),r(i=>!i),s(null)},children:c?e.jsx(v,{size:14}):e.jsx(y,{size:14})})})]}),c&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsx(G,{field:"this is unused in singleMode, TODO - remove",address:n.address,singleMode:!0})})})]})}const P=b(null);function $(){const[a,t]=j(P),s=x(A),n=l.useMemo(()=>N(),[s]);return e.jsx(k,{header:"JavaScript Call Stack",headerItems:e.jsxs("div",{className:"flex flex-row space-x-2 text-sm",children:[e.jsxs("button",{className:"flex flex-row hover:bg-neutral-500/25 rounded items-center gap-1 active:scale-90 transition-all",onClick:()=>t(!0),children:[e.jsx(S,{size:16}),"expand"]}),e.jsxs("button",{className:"flex flex-row hover:bg-neutral-500/25 rounded items-center gap-1 active:scale-90 transition-all",onClick:()=>t(!1),children:[e.jsx(w,{size:16}),"collapse"]})]}),children:e.jsxs("table",{className:"w-full border-t",children:[e.jsx("thead",{className:"text-sm font-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r w-8 border-b",children:"#"}),e.jsx("th",{className:"border-r w-fit border-b",children:"type"}),e.jsx("th",{className:"w-4 border-b",children:"show"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:e.jsxs("aside",{className:"text-center py-4",children:["JavaScript call stack is empty.",e.jsx("br",{}),"Evaluating script not yet started or already finished."]})})}):s.map((c,r)=>e.jsx(O,{idx:r,globalExpand:a,setGlobalExpand:t,...c},n+r))})]})})}const L=`
  even:bg-neutral-400/10 odd:bg-neutral-400/5 text-xs
  hover:bg-neutral-400/5 active:bg-green-500/25 transition-all cursor-pointer
  data-[highlight]:even:bg-green-500/25 data-[highlight]:odd:bg-green-500/25 data-[highlight]:hover:bg-green-500/50
`;function R(a){const[t,s]=l.useState(!1),n=x(f),c=U(n===a.idx),{data:r,idx:o,onItemClick:i,globalExpand:h,setGlobalExpand:C}=a,{fid:d,steps:u}=r,M=u.length===0?"":T(u),m=x(F),p=l.useMemo(()=>m[d],[m,d]),E=l.useMemo(()=>m[d]?.algoCode,[d]),V=l.useMemo(()=>p.nameForCallstack,[p]);return l.useEffect(()=>{h!==null&&s(h)},[h]),e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:L,"data-highlight":c,onClick:()=>i(o),children:[e.jsx("td",{className:"py-1 border-r text-center",children:o}),e.jsx("td",{className:"border-r text-center text-wrap lowercase",children:M}),e.jsx("td",{className:"border-r text-center text-wrap font-es font-700 text-sm",children:V}),e.jsx("td",{className:"",children:e.jsx("button",{className:"size-full flex items-center justify-center",onClick:I=>{I.stopPropagation(),s(z=>!z),C(null)},children:t?e.jsx(v,{size:14}):e.jsx(y,{size:14})})})]}),t&&(E!==""?e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsx(H,{embed:!0,context:r})})}):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"text-sm text-neutral-400 py-2 text-center",children:"this context has algorithm to show"})}))]})}const X=b(null);function B(){const[a,t]=j(X),s=x(J),n=D(f),c=l.useCallback(o=>n(o),[n]),r=l.useMemo(()=>N(),[s]);return e.jsx(k,{header:"Specification Call Stack",headerItems:e.jsxs("div",{className:"flex flex-row space-x-2 text-sm",children:[e.jsxs("button",{className:"flex flex-row hover:bg-neutral-500/25 rounded items-center gap-1 active:scale-90 transition-all",onClick:()=>t(!0),children:[e.jsx(S,{size:16}),"expand"]}),e.jsxs("button",{className:"flex flex-row hover:bg-neutral-500/25 rounded items-center gap-1 active:scale-90 transition-all",onClick:()=>t(!1),children:[e.jsx(w,{size:16}),"collapse"]})]}),children:e.jsxs("table",{className:"w-full border-t",children:[e.jsx("thead",{className:"text-sm font-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r w-8",children:"#"}),e.jsx("th",{className:"border-r w-8",children:"step"}),e.jsx("th",{className:"border-r",children:"name"}),e.jsx("th",{className:"w-4",children:"show"})]})}),e.jsx("tbody",{children:s.map((o,i)=>e.jsx(R,{data:o,idx:i,onItemClick:c,globalExpand:a,setGlobalExpand:t},r+i))})]})})}function ee(){return e.jsxs(e.Fragment,{children:[e.jsx(B,{}),e.jsx($,{})]})}export{ee as default};
