import{r as h,ax as ne,ay as ee,az as Ge,w as L,x as ot,aA as st,aB as ln,aC as an,aD as un,aE as Pt,aF as it,aG as cn,aH as dn,aI as Pe,aJ as fn,aK as At,aL as De,aM as Ne,aN as hn,aO as pn,aP as mn,aQ as gn,aR as vn,aS as bn,aT as Ft,aU as xn,t as $t,g as K,aV as Cn,aW as de,aX as kt,aY as Sn,aZ as yn,a_ as En,Y as Ee,Z as On,p as In,y as ke,a$ as G,b0 as rt,z as Z,b1 as lt,N as Ye,B as Rn,$ as _t,D as zt,n as Oe,F as qe,K as Ie,b2 as at,b3 as wn,b4 as Tn,b5 as Ae,b6 as Mn,b7 as Pn,b8 as An,b9 as Fn,ba as $n,bb as kn,bc as _n,f as zn,q as Dn,s as Nn,bd as Ln,be as Bn,V as Vn,bf as Hn,I as Un,E as Wn,bg as ut}from"./index-u4wQXj53.js";import{e as jn}from"./use-resolve-button-type-BGug-Wxw.js";/** @license
 * fzf v0.5.2
 * Copyright (c) 2021 Ajit
 * Licensed under BSD 3-Clause
 */const Xe={216:"O",223:"s",248:"o",273:"d",295:"h",305:"i",320:"l",322:"l",359:"t",383:"s",384:"b",385:"B",387:"b",390:"O",392:"c",393:"D",394:"D",396:"d",398:"E",400:"E",402:"f",403:"G",407:"I",409:"k",410:"l",412:"M",413:"N",414:"n",415:"O",421:"p",427:"t",429:"t",430:"T",434:"V",436:"y",438:"z",477:"e",485:"g",544:"N",545:"d",549:"z",564:"l",565:"n",566:"t",567:"j",570:"A",571:"C",572:"c",573:"L",574:"T",575:"s",576:"z",579:"B",580:"U",581:"V",582:"E",583:"e",584:"J",585:"j",586:"Q",587:"q",588:"R",589:"r",590:"Y",591:"y",592:"a",593:"a",595:"b",596:"o",597:"c",598:"d",599:"d",600:"e",603:"e",604:"e",605:"e",606:"e",607:"j",608:"g",609:"g",610:"G",613:"h",614:"h",616:"i",618:"I",619:"l",620:"l",621:"l",623:"m",624:"m",625:"m",626:"n",627:"n",628:"N",629:"o",633:"r",634:"r",635:"r",636:"r",637:"r",638:"r",639:"r",640:"R",641:"R",642:"s",647:"t",648:"t",649:"u",651:"v",652:"v",653:"w",654:"y",655:"Y",656:"z",657:"z",663:"c",665:"B",666:"e",667:"G",668:"H",669:"j",670:"k",671:"L",672:"q",686:"h",867:"a",868:"e",869:"i",870:"o",871:"u",872:"c",873:"d",874:"h",875:"m",876:"r",877:"t",878:"v",879:"x",7424:"A",7427:"B",7428:"C",7429:"D",7431:"E",7432:"e",7433:"i",7434:"J",7435:"K",7436:"L",7437:"M",7438:"N",7439:"O",7440:"O",7441:"o",7442:"o",7443:"o",7446:"o",7447:"o",7448:"P",7449:"R",7450:"R",7451:"T",7452:"U",7453:"u",7454:"u",7455:"m",7456:"V",7457:"W",7458:"Z",7522:"i",7523:"r",7524:"u",7525:"v",7834:"a",7835:"s",8305:"i",8341:"h",8342:"k",8343:"l",8344:"m",8345:"n",8346:"p",8347:"s",8348:"t",8580:"c"};for(let e="̀".codePointAt(0);e<="ͯ".codePointAt(0);++e){const s=String.fromCodePoint(e);for(const t of"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"){const n=(t+s).normalize().codePointAt(0);n>126&&(Xe[n]=t)}}const Le={a:[7844,7863],e:[7870,7879],o:[7888,7907],u:[7912,7921]};for(const e of Object.keys(Le)){const s=e.toUpperCase();for(let t=Le[e][0];t<=Le[e][1];++t)Xe[t]=t%2===0?s:e}function Re(e){if(e<192||e>8580)return e;const s=Xe[e];return s!==void 0?s.codePointAt(0):e}function ie(e,s){return e>s?e:s}const Dt=e=>e.split("").map(s=>s.codePointAt(0)),Kn=new Set(` \f
\r	\v  \u2028\u2029  　\uFEFF`.split("").map(e=>e.codePointAt(0)));for(let e=" ".codePointAt(0);e<=" ".codePointAt(0);e++)Kn.add(e);const fe="".codePointAt(0),xe="A".codePointAt(0),Ce="Z".codePointAt(0),Nt="a".codePointAt(0),Lt="z".codePointAt(0),Gn="0".codePointAt(0),Yn="9".codePointAt(0);function ce(e,s,t){return t?e:s-e-1}const Se=16,Ue=-3,Fe=-1,re=Se/2,qn=Se/2,Xn=re+Fe,Bt=4,Vt=2;function We(e){return e?new Set:null}function ge(e,s,t){if(s!==null&&s.i16.length>e+t){const o=s.i16.subarray(e,e+t);return[e+t,o]}return[e,new Int16Array(t)]}function ct(e,s,t){if(s!==null&&s.i32.length>e+t){const o=s.i32.subarray(e,e+t);return[e+t,o]}return[e,new Int32Array(t)]}function Ht(e){return e>=Nt&&e<=Lt?1:e>=xe&&e<=Ce?2:e>=Gn&&e<=Yn?4:0}function Ut(e){const s=String.fromCodePoint(e);return s!==s.toUpperCase()?1:s!==s.toLowerCase()?2:s.match(/\p{Number}/gu)!==null?4:s.match(/\p{Letter}/gu)!==null?3:0}function $e(e){return e<=fe?Ht(e):Ut(e)}function Ze(e,s){return e===0&&s!==0?re:e===1&&s===2||e!==4&&s===4?Xn:s===0?qn:0}function Zn(e,s){return s===0?re:Ze($e(e[s-1]),$e(e[s]))}function Jn(e,s,t,o){let n=e.slice(o),i=n.indexOf(t);if(i===0)return o;if(!s&&t>=Nt&&t<=Lt){i>0&&(n=n.slice(0,i));const r=n.indexOf(t-32);r>=0&&(i=r)}return i<0?-1:o+i}function dt(e){for(const s of e)if(s>=128)return!1;return!0}function Je(e,s,t){if(!dt(e))return 0;if(!dt(s))return-1;let o=0,n=0;for(let i=0;i<s.length;i++){if(n=Jn(e,t,s[i],n),n<0)return-1;i===0&&n>0&&(o=n-1),n++}return o}const Qn=(e,s,t,o,n,i,r)=>{const l=n.length;if(l===0)return[{start:0,end:0,score:0},We(i)];const a=o.length;if(r!==null&&a*l>r.i16.length)return jt(e,s,t,o,n,i);const u=Je(o,n,e);if(u<0)return[{start:-1,end:-1,score:0},null];let d=0,v=0,m=null,f=null,c=null,p=null;[d,m]=ge(d,r,a),[d,f]=ge(d,r,a),[d,c]=ge(d,r,a),[v,p]=ct(v,r,l);const[,b]=ct(v,r,a);for(let g=0;g<b.length;g++)b[g]=o[g];let C=0,E=0,x=0,I=0;const D=n[0];let R=n[0],N=0,k=0,B=!1,V=b.subarray(u),$=m.subarray(u).subarray(0,V.length),M=f.subarray(u).subarray(0,V.length),H=c.subarray(u).subarray(0,V.length);for(let[g,S]of V.entries()){let y=null;S<=fe?(y=Ht(S),!e&&y===2&&(S+=32)):(y=Ut(S),!e&&y===2&&(S=String.fromCodePoint(S).toLowerCase().codePointAt(0)),s&&(S=Re(S))),V[g]=S;const F=Ze(k,y);if(H[g]=F,k=y,S===R&&(x<l&&(p[x]=u+g,x++,R=n[Math.min(x,l-1)]),I=u+g),S===D){const P=Se+F*Vt;if($[g]=P,M[g]=1,l===1&&(t&&P>C||!t&&P>=C)&&(C=P,E=u+g,t&&F===re))break;B=!1}else B?$[g]=ie(N+Fe,0):$[g]=ie(N+Ue,0),M[g]=0,B=!0;N=$[g]}if(x!==l)return[{start:-1,end:-1,score:0},null];if(l===1){const g={start:E,end:E+1,score:C};if(!i)return[g,null];const S=new Set;return S.add(E),[g,S]}const A=p[0],O=I-A+1;let _=null;[d,_]=ge(d,r,O*l);{const g=m.subarray(A,I+1);for(const[S,y]of g.entries())_[S]=y}let[,X]=ge(d,r,O*l);{const g=f.subarray(A,I+1);for(const[S,y]of g.entries())X[S]=y}const J=p.subarray(1),Y=n.slice(1).slice(0,J.length);for(const[g,S]of J.entries()){let y=!1;const F=Y[g],P=g+1,z=P*O,w=b.subarray(S,I+1),te=c.subarray(S).subarray(0,w.length),_e=X.subarray(z+S-A).subarray(0,w.length),U=X.subarray(z+S-A-1-O).subarray(0,w.length),on=_.subarray(z+S-A).subarray(0,w.length),sn=_.subarray(z+S-A-1-O).subarray(0,w.length),ze=_.subarray(z+S-A-1).subarray(0,w.length);ze[0]=0;for(const[se,rn]of w.entries()){const nt=se+S;let le=0,pe=0,ae=0;if(y?pe=ze[se]+Fe:pe=ze[se]+Ue,F===rn){le=sn[se]+Se;let me=te[se];ae=U[se]+1,me===re?ae=1:ae>1&&(me=ie(me,ie(Bt,c[nt-ae+1]))),le+me<pe?(le+=te[se],ae=0):le+=me}_e[se]=ae,y=le<pe;const Me=ie(ie(le,pe),0);P===l-1&&(t&&Me>C||!t&&Me>=C)&&(C=Me,E=nt),on[se]=Me}}const W=We(i);let q=A;if(i&&W!==null){let g=l-1;q=E;let S=!0;for(;;){const y=g*O,F=q-A,P=_[y+F];let z=0,w=0;if(g>0&&q>=p[g]&&(z=_[y-O+F-1]),q>p[g]&&(w=_[y+F-1]),P>z&&(P>w||P===w&&S)){if(W.add(q),g===0)break;g--}S=X[y+F]>1||y+O+F+1<X.length&&X[y+O+F+1]>0,q--}}return[{start:q,end:E+1,score:C},W]};function Wt(e,s,t,o,n,i,r){let l=0,a=0,u=!1,d=0,v=0;const m=We(r);let f=0;n>0&&(f=$e(t[n-1]));for(let c=n;c<i;c++){let p=t[c];const b=$e(p);if(e||(p>=xe&&p<=Ce?p+=32:p>fe&&(p=String.fromCodePoint(p).toLowerCase().codePointAt(0))),s&&(p=Re(p)),p===o[l]){r&&m!==null&&m.add(c),a+=Se;let C=Ze(f,b);d===0?v=C:(C===re&&(v=C),C=ie(ie(C,v),Bt)),l===0?a+=C*Vt:a+=C,u=!1,d++,l++}else u?a+=Fe:a+=Ue,u=!0,d=0,v=0;f=b}return[a,m]}const jt=(e,s,t,o,n,i,r)=>{if(n.length===0)return[{start:0,end:0,score:0},null];if(Je(o,n,e)<0)return[{start:-1,end:-1,score:0},null];let l=0,a=-1,u=-1;const d=o.length,v=n.length;for(let m=0;m<d;m++){let f=o[ce(m,d,t)];e||(f>=xe&&f<=Ce?f+=32:f>fe&&(f=String.fromCodePoint(f).toLowerCase().codePointAt(0))),s&&(f=Re(f));const c=n[ce(l,v,t)];if(f===c&&(a<0&&(a=m),l++,l===v)){u=m+1;break}}if(a>=0&&u>=0){l--;for(let c=u-1;c>=a;c--){const p=ce(c,d,t);let b=o[p];e||(b>=xe&&b<=Ce?b+=32:b>fe&&(b=String.fromCodePoint(b).toLowerCase().codePointAt(0)));const C=ce(l,v,t),E=n[C];if(b===E&&(l--,l<0)){a=c;break}}if(!t){const c=a;a=d-u,u=d-c}const[m,f]=Wt(e,s,o,n,a,u,i);return[{start:a,end:u,score:m},f]}return[{start:-1,end:-1,score:0},null]},eo=(e,s,t,o,n,i,r)=>{if(n.length===0)return[{start:0,end:0,score:0},null];const l=o.length,a=n.length;if(l<a)return[{start:-1,end:-1,score:0},null];if(Je(o,n,e)<0)return[{start:-1,end:-1,score:0},null];let u=0,d=-1,v=0,m=-1;for(let f=0;f<l;f++){const c=ce(f,l,t);let p=o[c];e||(p>=xe&&p<=Ce?p+=32:p>fe&&(p=String.fromCodePoint(p).toLowerCase().codePointAt(0))),s&&(p=Re(p));const b=ce(u,a,t);if(n[b]===p){if(b===0&&(v=Zn(o,c)),u++,u===a){if(v>m&&(d=f,m=v),v===re)break;f-=u-1,u=0,v=0}}else f-=u,u=0,v=0}if(d>=0){let f=0,c=0;t?(f=d-a+1,c=d+1):(f=l-(d+1),c=l-(d-a+1));const[p]=Wt(e,s,o,n,f,c,!1);return[{start:f,end:c,score:p},null]}return[{start:-1,end:-1,score:0},null]},to=100*1024,no=2048;function oo(e,s){return{i16:new Int16Array(e),i32:new Int32Array(s)}}const so=oo(to,no),io=(e,s,t)=>{let o=!1;switch(s){case"smart-case":e.toLowerCase()!==e&&(o=!0);break;case"case-sensitive":o=!0;break;case"case-insensitive":e=e.toLowerCase(),o=!1;break}let n=Dt(e);return t&&(n=n.map(Re)),{queryRunes:n,caseSensitive:o}};function ro(e,s){const t=Object.keys(e).map(n=>parseInt(n,10)).sort((n,i)=>i-n);let o=[];for(const n of t)if(o=o.concat(e[n]),o.length>=s)break;return o}function lo(e,s,t){return o=>{const n=this.runesList[o];if(s.length>n.length)return;let[i,r]=this.algoFn(t,this.opts.normalize,this.opts.forward,n,s,!0,so);if(i.start===-1)return;if(this.opts.fuzzy===!1){r=new Set;for(let a=i.start;a<i.end;++a)r.add(a)}const l=this.opts.sort?i.score:0;e[l]===void 0&&(e[l]=[]),e[l].push({item:this.items[o],...i,positions:r??new Set})}}function ao(e){const{queryRunes:s,caseSensitive:t}=io(e,this.opts.casing,this.opts.normalize),o={},n=lo.bind(this)(o,s,t);for(let i=0,r=this.runesList.length;i<r;++i)n(i);return ro(o,this.opts.limit)}const Kt={limit:1/0,selector:e=>e,casing:"smart-case",normalize:!0,fuzzy:"v2",tiebreakers:[],sort:!0,forward:!0};class uo{constructor(s,...t){switch(this.opts={...Kt,...t[0]},this.items=s,this.runesList=s.map(o=>Dt(this.opts.selector(o).normalize())),this.algoFn=eo,this.opts.fuzzy){case"v2":this.algoFn=Qn;break;case"v1":this.algoFn=jt;break}}}const co={...Kt,match:ao};class fo extends uo{constructor(s,...t){super(s,...t),this.opts={...co,...t[0]}}find(s){if(s.length===0||this.items.length===0)return this.items.slice(0,this.opts.limit).map(ho);s=s.normalize();let t=this.opts.match.bind(this)(s);return po(t,this.opts)}}const ho=e=>({item:e,start:-1,end:-1,score:0,positions:new Set});function po(e,s){if(s.sort){const{selector:t}=s;e.sort((o,n)=>{if(o.score===n.score)for(const i of s.tiebreakers){const r=i(o,n,t);if(r!==0)return r}return 0})}return Number.isFinite(s.limit)&&e.splice(s.limit),e}class mo{constructor(s,...t){this.finder=new fo(s,...t),this.find=this.finder.find.bind(this.finder)}}const Fs=(e,s,t,o)=>{if(s==="")return e;const n=e.map(r=>({value:r,text:o(r)}));return new mo(n,{selector:r=>r.text,casing:"case-insensitive"}).find(s).filter(r=>r.score>t).sort((r,l)=>{const a=r.item.text.toLowerCase()===s.toLowerCase(),u=l.item.text.toLowerCase()===s.toLowerCase();return a&&!u?-1:!a&&u?1:l.score-r.score}).map(r=>r.item.value)};function ue(e,s,t){let o=t.initialDeps??[],n;function i(){var r,l,a,u;let d;t.key&&((r=t.debug)!=null&&r.call(t))&&(d=Date.now());const v=e();if(!(v.length!==o.length||v.some((c,p)=>o[p]!==c)))return n;o=v;let f;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(f=Date.now()),n=s(...v),t.key&&((a=t.debug)!=null&&a.call(t))){const c=Math.round((Date.now()-d)*100)/100,p=Math.round((Date.now()-f)*100)/100,b=p/16,C=(E,x)=>{for(E=String(E);E.length<x;)E=" "+E;return E};console.info(`%c⏱ ${C(p,5)} /${C(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,t?.key)}return(u=t?.onChange)==null||u.call(t,n),n}return i.updateDeps=r=>{o=r},i}function ft(e,s){if(e===void 0)throw new Error("Unexpected undefined");return e}const go=(e,s)=>Math.abs(e-s)<1.01,vo=(e,s,t)=>{let o;return function(...n){e.clearTimeout(o),o=e.setTimeout(()=>s.apply(this,n),t)}},ht=e=>{const{offsetWidth:s,offsetHeight:t}=e;return{width:s,height:t}},bo=e=>e,xo=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let n=s;n<=t;n++)o.push(n);return o},Co=(e,s)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const n=r=>{const{width:l,height:a}=r;s({width:Math.round(l),height:Math.round(a)})};if(n(ht(t)),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(r=>{const l=()=>{const a=r[0];if(a?.borderBoxSize){const u=a.borderBoxSize[0];if(u){n({width:u.inlineSize,height:u.blockSize});return}}n(ht(t))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},pt={passive:!0},mt=typeof window>"u"?!0:"onscrollend"in window,So=(e,s)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let n=0;const i=e.options.useScrollendEvent&&mt?()=>{}:vo(o,()=>{s(n,!1)},e.options.isScrollingResetDelay),r=d=>()=>{const{horizontal:v,isRtl:m}=e.options;n=v?t.scrollLeft*(m&&-1||1):t.scrollTop,i(),s(n,d)},l=r(!0),a=r(!1);a(),t.addEventListener("scroll",l,pt);const u=e.options.useScrollendEvent&&mt;return u&&t.addEventListener("scrollend",a,pt),()=>{t.removeEventListener("scroll",l),u&&t.removeEventListener("scrollend",a)}},yo=(e,s,t)=>{if(s?.borderBoxSize){const o=s.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},Eo=(e,{adjustments:s=0,behavior:t},o)=>{var n,i;const r=e+s;(i=(n=o.scrollElement)==null?void 0:n.scrollTo)==null||i.call(n,{[o.options.horizontal?"left":"top"]:r,behavior:t})};class Oo{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(n=>{n.forEach(i=>{const r=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()})}));return{disconnect:()=>{var n;(n=o())==null||n.disconnect(),t=null},observe:n=>{var i;return(i=o())==null?void 0:i.observe(n,{box:"border-box"})},unobserve:n=>{var i;return(i=o())==null?void 0:i.unobserve(n)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,n])=>{typeof n>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:bo,rangeExtractor:xo,onChange:()=>{},measureElement:yo,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var o,n;(n=(o=this.options).onChange)==null||n.call(o,this,t)},this.maybeNotify=ue(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const n=new Map,i=new Map;for(let r=o-1;r>=0;r--){const l=t[r];if(n.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&n.set(l.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((r,l)=>r.end===l.end?r.index-l.index:r.end-l.end)[0]:void 0},this.getMeasurementOptions=ue(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,n,i,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:n,getItemKey:i,enabled:r}),{key:!1}),this.getMeasurements=ue(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:n,getItemKey:i,enabled:r},l)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,a);for(let d=a;d<t;d++){const v=i(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),f=m?m.end+this.options.gap:o+n,c=l.get(v),p=typeof c=="number"?c:this.options.estimateSize(d),b=f+p,C=m?m.lane:d%this.options.lanes;u[d]={index:d,start:f,size:p,end:b,key:v,lane:C}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ue(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,o,n,i)=>this.range=t.length>0&&o>0?Io({measurements:t,outerSize:o,scrollOffset:n,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ue(()=>{let t=null,o=null;const n=this.calculateRange();return n&&(t=n.startIndex,o=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,o]},(t,o,n,i,r)=>i===null||r===null?[]:t({startIndex:i,endIndex:r,overscan:o,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,n=t.getAttribute(o);return n?parseInt(n,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const n=this.indexFromElement(t),i=this.measurementsCache[n];if(!i)return;const r=i.key,l=this.elementsCache.get(r);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(r,t)),t.isConnected&&this.resizeItem(n,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const n=this.measurementsCache[t];if(!n)return;const i=this.itemSizeCache.get(n.key)??n.size,r=o-i;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,n)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(n))});return}this._measureElement(t,void 0)},this.getVirtualItems=ue(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,o)=>{const n=[];for(let i=0,r=t.length;i<r;i++){const l=t[i],a=o[l];n.push(a)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return ft(o[Gt(0,o.length-1,n=>ft(o[n]).start,t)])},this.getOffsetForAlignment=(t,o,n=0)=>{const i=this.getSize(),r=this.getScrollOffset();o==="auto"&&(o=t>=r+i?"end":"start"),o==="center"?t+=(n-i)/2:o==="end"&&(t-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=this.measurementsCache[t];if(!n)return;const i=this.getSize(),r=this.getScrollOffset();if(o==="auto")if(n.end>=r+i-this.options.scrollPaddingEnd)o="end";else if(n.start<=r+this.options.scrollPaddingStart)o="start";else return[r,o];const l=o==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o,n.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:o="start",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:o="auto",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let i=0;const r=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(t,u);if(!d){console.warn("Failed to get offset for index:",t);return}const[v,m]=d;this._scrollToOffset(v,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const f=this.getScrollOffset(),c=this.getOffsetForIndex(t,m);if(!c){console.warn("Failed to get offset for index:",t);return}go(c[0],f)||a(m)})},a=u=>{this.targetWindow&&(i++,i<r?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${t} after ${r} attempts.`))};l(o)},this.scrollBy=(t,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let n;if(o.length===0)n=this.options.paddingStart;else if(this.options.lanes===1)n=((t=o[o.length-1])==null?void 0:t.end)??0;else{const i=Array(this.options.lanes).fill(null);let r=o.length-1;for(;r>=0&&i.some(l=>l===null);){const l=o[r];i[l.lane]===null&&(i[l.lane]=l.end),r--}n=Math.max(...i.filter(l=>l!==null))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:o,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const Gt=(e,s,t,o)=>{for(;e<=s;){const n=(e+s)/2|0,i=t(n);if(i<o)e=n+1;else if(i>o)s=n-1;else return n}return e>0?e-1:0};function Io({measurements:e,outerSize:s,scrollOffset:t,lanes:o}){const n=e.length-1,i=a=>e[a].start;if(e.length<=o)return{startIndex:0,endIndex:n};let r=Gt(0,n,i,t),l=r;if(o===1)for(;l<n&&e[l].end<t+s;)l++;else if(o>1){const a=Array(o).fill(0);for(;l<n&&a.some(d=>d<t+s);){const d=e[l];a[d.lane]=d.end,l++}const u=Array(o).fill(t+s);for(;r>=0&&u.some(d=>d>=t);){const d=e[r];u[d.lane]=d.start,r--}r=Math.max(0,r-r%o),l=Math.min(n,l+(o-1-l%o))}return{startIndex:r,endIndex:l}}const gt=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Ro(e){const s=h.useReducer(()=>({}),{})[1],t={...e,onChange:(n,i)=>{var r;i?ne.flushSync(s):s(),(r=e.onChange)==null||r.call(e,n,i)}},[o]=h.useState(()=>new Oo(t));return o.setOptions(t),gt(()=>o._didMount(),[]),gt(()=>o._willUpdate()),o}function wo(e){return Ro({observeElementRect:Co,observeElementOffset:So,scrollToFn:Eo,...e})}function vt(e){if(e===null)return{width:0,height:0};let{width:s,height:t}=e.getBoundingClientRect();return{width:s,height:t}}function bt(e,s,t=!1){let[o,n]=h.useState(()=>vt(s));return ee(()=>{if(!s||!e)return;let i=Ge();return i.requestAnimationFrame(function r(){i.requestAnimationFrame(r),n(l=>{let a=vt(s);return a.width===l.width&&a.height===l.height?l:a})}),()=>{i.dispose()}},[s,e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}var Qe=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Qe||{});function To(e){let s=h.useRef(null),t=L(n=>{s.current=n.pointerType,!ot(n.currentTarget)&&n.pointerType==="mouse"&&n.button===Qe.Left&&(n.preventDefault(),e(n))}),o=L(n=>{s.current!=="mouse"&&(ot(n.currentTarget)||e(n))});return{onPointerDown:t,onClick:o}}var Mo=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(Mo||{});const ve={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Po=200,xt=5;function Ao(e,{trigger:s,action:t,close:o,select:n}){let i=h.useRef(null),r=h.useRef(null),l=h.useRef(null);st(e&&s!==null,"pointerdown",a=>{ln(a?.target)&&s!=null&&s.contains(a.target)&&(r.current=a.x,l.current=a.y,i.current=a.timeStamp)}),st(e&&s!==null,"pointerup",a=>{var u,d;let v=i.current;if(v===null||(i.current=null,!an(a.target))||Math.abs(a.x-((u=r.current)!=null?u:a.x))<xt&&Math.abs(a.y-((d=l.current)!=null?d:a.y))<xt)return;let m=t(a);switch(m.kind){case 0:return;case 1:{a.timeStamp-v>Po&&(n(m.target),o());break}case 2:{o();break}}},{capture:!0})}function Yt(e){let s=h.useRef({value:"",selectionStart:null,selectionEnd:null});return un(e,"blur",t=>{let o=t.target;it(o)&&(s.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),L(()=>{if(!Pt(e)&&it(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==s.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:o}=s.current;t!==null&&o!==null&&e.setSelectionRange(t,o)}s.current={value:"",selectionStart:null,selectionEnd:null}}})}function Ct(e){return[e.screenX,e.screenY]}function Fo(){let e=h.useRef([-1,-1]);return{wasMoved(s){let t=Ct(s);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(s){e.current=Ct(s)}}}function $o(e,{container:s,accept:t,walk:o}){let n=h.useRef(t),i=h.useRef(o);h.useEffect(()=>{n.current=t,i.current=o},[t,o]),ee(()=>{if(!s||!e)return;let r=cn(s);if(!r)return;let l=n.current,a=i.current,u=Object.assign(v=>l(v),{acceptNode:l}),d=r.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)a(d.currentNode)},[s,e,n,i])}function ko(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(s=>{let{brand:t,version:o}=s;return t+"/"+o}).join(" "):navigator.userAgent}const qt={...mn},_o=qt.useInsertionEffect,zo=_o||(e=>e());function Xt(e){const s=h.useRef(()=>{});return zo(()=>{s.current=e}),h.useCallback(function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return s.current==null?void 0:s.current(...o)},[])}var je=typeof document<"u"?h.useLayoutEffect:h.useEffect;let St=!1,Do=0;const yt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Do++;function No(){const[e,s]=h.useState(()=>St?yt():void 0);return je(()=>{e==null&&s(yt())},[]),h.useEffect(()=>{St=!0},[]),e}const Lo=qt.useId,Bo=Lo||No;function Vo(){const e=new Map;return{emit(s,t){var o;(o=e.get(s))==null||o.forEach(n=>n(t))},on(s,t){e.set(s,[...e.get(s)||[],t])},off(s,t){var o;e.set(s,((o=e.get(s))==null?void 0:o.filter(n=>n!==t))||[])}}}const Ho=h.createContext(null),Uo=h.createContext(null),Wo=()=>{var e;return((e=h.useContext(Ho))==null?void 0:e.id)||null},jo=()=>h.useContext(Uo),Ko="data-floating-ui-focusable";function Go(e){const{open:s=!1,onOpenChange:t,elements:o}=e,n=Bo(),i=h.useRef({}),[r]=h.useState(()=>Vo()),l=Wo()!=null,[a,u]=h.useState(o.reference),d=Xt((f,c,p)=>{i.current.openEvent=f?c:void 0,r.emit("openchange",{open:f,event:c,reason:p,nested:l}),t?.(f,c,p)}),v=h.useMemo(()=>({setPositionReference:u}),[]),m=h.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return h.useMemo(()=>({dataRef:i,open:s,onOpenChange:d,elements:m,events:r,floatingId:n,refs:v}),[s,d,m,r,n,v])}function Yo(e){e===void 0&&(e={});const{nodeId:s}=e,t=Go({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||t,n=o.elements,[i,r]=h.useState(null),[l,a]=h.useState(null),d=n?.domReference||i,v=h.useRef(null),m=jo();je(()=>{d&&(v.current=d)},[d]);const f=dn({...e,elements:{...n,...l&&{reference:l}}}),c=h.useCallback(x=>{const I=Pe(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;a(I),f.refs.setReference(I)},[f.refs]),p=h.useCallback(x=>{(Pe(x)||x===null)&&(v.current=x,r(x)),(Pe(f.refs.reference.current)||f.refs.reference.current===null||x!==null&&!Pe(x))&&f.refs.setReference(x)},[f.refs]),b=h.useMemo(()=>({...f.refs,setReference:p,setPositionReference:c,domReference:v}),[f.refs,p,c]),C=h.useMemo(()=>({...f.elements,domReference:d}),[f.elements,d]),E=h.useMemo(()=>({...f,...o,refs:b,elements:C,nodeId:s}),[f,b,C,s,o]);return je(()=>{o.dataRef.current.floatingContext=E;const x=m?.nodesRef.current.find(I=>I.id===s);x&&(x.context=E)}),h.useMemo(()=>({...f,context:E,refs:b,elements:C}),[f,b,C,E])}const Et="active",Ot="selected";function Be(e,s,t){const o=new Map,n=t==="item";let i=e;if(n&&e){const{[Et]:r,[Ot]:l,...a}=e;i=a}return{...t==="floating"&&{tabIndex:-1,[Ko]:""},...i,...s.map(r=>{const l=r?r[t]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((r,l)=>(l&&Object.entries(l).forEach(a=>{let[u,d]=a;if(!(n&&[Et,Ot].includes(u)))if(u.indexOf("on")===0){if(o.has(u)||o.set(u,[]),typeof d=="function"){var v;(v=o.get(u))==null||v.push(d),r[u]=function(){for(var m,f=arguments.length,c=new Array(f),p=0;p<f;p++)c[p]=arguments[p];return(m=o.get(u))==null?void 0:m.map(b=>b(...c)).find(b=>b!==void 0)}}}else r[u]=d}),r),{})}}function qo(e){e===void 0&&(e=[]);const s=e.map(l=>l?.reference),t=e.map(l=>l?.floating),o=e.map(l=>l?.item),n=h.useCallback(l=>Be(l,e,"reference"),s),i=h.useCallback(l=>Be(l,e,"floating"),t),r=h.useCallback(l=>Be(l,e,"item"),o);return h.useMemo(()=>({getReferenceProps:n,getFloatingProps:i,getItemProps:r}),[n,i,r])}function It(e,s){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:s}}}}const Xo=e=>({name:"inner",options:e,async fn(s){const{listRef:t,overflowRef:o,onFallbackChange:n,offset:i=0,index:r=0,minItemsVisible:l=4,referenceOverflowThreshold:a=0,scrollRef:u,...d}=fn(e,s),{rects:v,elements:{floating:m}}=s,f=t.current[r],c=u?.current||m,p=m.clientTop||c.clientTop,b=m.clientTop!==0,C=c.clientTop!==0,E=m===c;if(!f)return{};const x={...s,...await At(-f.offsetTop-m.clientTop-v.reference.height/2-f.offsetHeight/2-i).fn(s)},I=await De(It(x,c.scrollHeight+p+m.clientTop),d),D=await De(x,{...d,elementContext:"reference"}),R=Ne(0,I.top),N=x.y+R,V=(c.scrollHeight>c.clientHeight?$=>$:hn)(Ne(0,c.scrollHeight+(b&&E||C?p*2:0)-R-Ne(0,I.bottom)));if(c.style.maxHeight=V+"px",c.scrollTop=R,n){const $=c.offsetHeight<f.offsetHeight*pn(l,t.current.length)-1||D.top>=-a||D.bottom>=-a;ne.flushSync(()=>n($))}return o&&(o.current=await De(It({...x,y:N},c.offsetHeight+p+m.clientTop),d)),{y:N}}});function Zo(e,s){const{open:t,elements:o}=e,{enabled:n=!0,overflowRef:i,scrollRef:r,onChange:l}=s,a=Xt(l),u=h.useRef(!1),d=h.useRef(null),v=h.useRef(null);h.useEffect(()=>{if(!n)return;function f(p){if(p.ctrlKey||!c||i.current==null)return;const b=p.deltaY,C=i.current.top>=-.5,E=i.current.bottom>=-.5,x=c.scrollHeight-c.clientHeight,I=b<0?-1:1,D=b<0?"max":"min";c.scrollHeight<=c.clientHeight||(!C&&b>0||!E&&b<0?(p.preventDefault(),ne.flushSync(()=>{a(R=>R+Math[D](b,x*I))})):/firefox/i.test(ko())&&(c.scrollTop+=b))}const c=r?.current||o.floating;if(t&&c)return c.addEventListener("wheel",f),requestAnimationFrame(()=>{d.current=c.scrollTop,i.current!=null&&(v.current={...i.current})}),()=>{d.current=null,v.current=null,c.removeEventListener("wheel",f)}},[n,t,o.floating,i,r,a]);const m=h.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const f=r?.current||o.floating;if(!(!i.current||!f||!u.current)){if(d.current!==null){const c=f.scrollTop-d.current;(i.current.bottom<-.5&&c<-1||i.current.top<-.5&&c>1)&&ne.flushSync(()=>a(p=>p+c))}requestAnimationFrame(()=>{d.current=f.scrollTop})}}}),[o.floating,a,i,r]);return h.useMemo(()=>n?{floating:m}:{},[n,m])}let we=h.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});we.displayName="FloatingContext";let et=h.createContext(null);et.displayName="PlacementContext";function Jo(e){return h.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Qo(){return h.useContext(we).setReference}function es(){let{getFloatingProps:e,slot:s}=h.useContext(we);return h.useCallback((...t)=>Object.assign({},e(...t),{"data-anchor":s.anchor}),[e,s])}function ts(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let s=h.useContext(et),t=h.useMemo(()=>e,[JSON.stringify(e,(n,i)=>{var r;return(r=i?.outerHTML)!=null?r:i})]);ee(()=>{s?.(t??null)},[s,t]);let o=h.useContext(we);return h.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let Rt=4;function ns({children:e,enabled:s=!0}){let[t,o]=h.useState(null),[n,i]=h.useState(0),r=h.useRef(null),[l,a]=h.useState(null);os(l);let u=s&&t!==null&&l!==null,{to:d="bottom",gap:v=0,offset:m=0,padding:f=0,inner:c}=ss(t,l),[p,b="center"]=d.split(" ");ee(()=>{u&&i(0)},[u]);let{refs:C,floatingStyles:E,context:x}=Yo({open:u,placement:p==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${p}`:`${p}-${b}`,strategy:"absolute",transform:!1,middleware:[At({mainAxis:p==="selection"?0:v,crossAxis:m}),gn({padding:f}),p!=="selection"&&vn({padding:f}),p==="selection"&&c?Xo({...c,padding:f,overflowRef:r,offset:n,minItemsVisible:Rt,referenceOverflowThreshold:f,onFallbackChange($){var M,H;if(!$)return;let A=x.elements.floating;if(!A)return;let O=parseFloat(getComputedStyle(A).scrollPaddingBottom)||0,_=Math.min(Rt,A.childElementCount),X=0,J=0;for(let Y of(H=(M=x.elements.floating)==null?void 0:M.childNodes)!=null?H:[])if(Ft(Y)){let W=Y.offsetTop,q=W+Y.clientHeight+O,g=A.scrollTop,S=g+A.clientHeight;if(W>=g&&q<=S)_--;else{J=Math.max(0,Math.min(q,S)-Math.max(W,g)),X=Y.clientHeight;break}}_>=1&&i(Y=>{let W=X*_-J+O;return Y>=W?Y:W})}}):null,bn({padding:f,apply({availableWidth:$,availableHeight:M,elements:H}){Object.assign(H.floating.style,{overflow:"auto",maxWidth:`${$}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${M}px)`})}})].filter(Boolean),whileElementsMounted:xn}),[I=p,D=b]=x.placement.split("-");p==="selection"&&(I="selection");let R=h.useMemo(()=>({anchor:[I,D].filter(Boolean).join(" ")}),[I,D]),N=Zo(x,{overflowRef:r,onChange:i}),{getReferenceProps:k,getFloatingProps:B}=qo([N]),V=L($=>{a($),C.setFloating($)});return h.createElement(et.Provider,{value:o},h.createElement(we.Provider,{value:{setFloating:V,setReference:C.setReference,styles:E,getReferenceProps:k,getFloatingProps:B,slot:R}},e))}function os(e){ee(()=>{if(!e)return;let s=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,o=parseFloat(t);if(isNaN(o))return;let n=parseInt(t);isNaN(n)||o!==n&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return s.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{s.disconnect()}},[e])}function ss(e,s){var t,o,n;let i=Ve((t=e?.gap)!=null?t:"var(--anchor-gap, 0)",s),r=Ve((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",s),l=Ve((n=e?.padding)!=null?n:"var(--anchor-padding, 0)",s);return{...e,gap:i,offset:r,padding:l}}function Ve(e,s,t=void 0){let o=$t(),n=L((a,u)=>{if(a==null)return[t,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!u)return[t,null];let d=wt(a,u);return[d,v=>{let m=Zt(a);{let f=m.map(c=>window.getComputedStyle(u).getPropertyValue(c));o.requestAnimationFrame(function c(){o.nextFrame(c);let p=!1;for(let[C,E]of m.entries()){let x=window.getComputedStyle(u).getPropertyValue(E);if(f[C]!==x){f[C]=x,p=!0;break}}if(!p)return;let b=wt(a,u);d!==b&&(v(b),d=b)})}return o.dispose}]}return[t,null]}),i=h.useMemo(()=>n(e,s)[0],[e,s]),[r=i,l]=h.useState();return ee(()=>{let[a,u]=n(e,s);if(l(a),!!u)return u(l)},[e,s]),r}function Zt(e){let s=/var\((.*)\)/.exec(e);if(s){let t=s[1].indexOf(",");if(t===-1)return[s[1]];let o=s[1].slice(0,t).trim(),n=s[1].slice(t+1).trim();return n?[o,...Zt(n)]:[o]}return[]}function wt(e,s){let t=document.createElement("div");s.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(t).marginTop)||0;return s.removeChild(t),o}function is({children:e,freeze:s},t){let o=Ke(s,e);return h.isValidElement(o)?h.cloneElement(o,{ref:t}):K.createElement(K.Fragment,null,o)}const rs=K.forwardRef(is);function Ke(e,s){let[t,o]=h.useState(s);return!e&&t!==s&&o(s),e?t:s}function ls(e){throw new Error("Unexpected object: "+e)}var j=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(j||{});function Tt(e,s){let t=s.resolveItems();if(t.length<=0)return null;let o=s.resolveActiveIndex(),n=o??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 1:{n===-1&&(n=t.length);for(let i=n-1;i>=0;--i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 2:{for(let i=n+1;i<t.length;++i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 3:{for(let i=t.length-1;i>=0;--i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 4:{for(let i=0;i<t.length;++i)if(s.resolveId(t[i],i,t)===e.id)return i;return o}case 5:return null;default:ls(e)}}const be={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Jt(e){let s=e.getBoundingClientRect();return`${s.x},${s.y}`}function as(e,s,t){let o=Ge();if(s.kind==="Tracked"){let n=function(){i!==Jt(e)&&(o.dispose(),t())},{position:i}=s,r=new ResizeObserver(n);r.observe(e),o.add(()=>r.disconnect()),o.addEventListener(window,"scroll",n,{passive:!0}),o.addEventListener(window,"resize",n)}return()=>o.dispose()}var us=Object.defineProperty,cs=(e,s,t)=>s in e?us(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Mt=(e,s,t)=>(cs(e,typeof s!="symbol"?s+"":s,t),t),T=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(T||{}),Q=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Q||{}),oe=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(oe||{}),Qt=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e[e.MarkInputAsMoved=12]="MarkInputAsMoved",e))(Qt||{});function He(e,s=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=s(e.options.slice()),n=o.length>0&&o[0].dataRef.current.order!==null?o.sort((r,l)=>r.dataRef.current.order-l.dataRef.current.order):yn(o,r=>r.dataRef.current.domRef.current),i=t?n.indexOf(t):null;return i===-1&&(i=null),{options:n,activeOptionIndex:i}}let ds={1(e){var s;if((s=e.dataRef.current)!=null&&s.disabled||e.comboboxState===1)return e;let t=e.inputElement?be.Tracked(Jt(e.inputElement)):e.inputPositionState;return{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:t,__demoMode:!1}},0(e){var s,t;if((s=e.dataRef.current)!=null&&s.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let o=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(o!==-1)return{...e,activeOptionIndex:o,comboboxState:0,__demoMode:!1,inputPositionState:be.Idle}}return{...e,comboboxState:0,inputPositionState:be.Idle,__demoMode:!1}},3(e,s){return e.isTyping===s.isTyping?e:{...e,isTyping:s.isTyping}},2(e,s){var t,o,n,i;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:d}=e.virtual,v=s.focus===j.Specific?s.idx:Tt(s,{resolveItems:()=>u,resolveActiveIndex:()=>{var f,c;return(c=(f=e.activeOptionIndex)!=null?f:u.findIndex(p=>!d(p)))!=null?c:null},resolveDisabled:d,resolveId(){throw new Error("Function not implemented.")}}),m=(n=s.trigger)!=null?n:2;return e.activeOptionIndex===v&&e.activationTrigger===m?e:{...e,activeOptionIndex:v,activationTrigger:m,isTyping:!1,__demoMode:!1}}let r=He(e);if(r.activeOptionIndex===null){let u=r.options.findIndex(d=>!d.dataRef.current.disabled);u!==-1&&(r.activeOptionIndex=u)}let l=s.focus===j.Specific?s.idx:Tt(s,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),a=(i=s.trigger)!=null?i:2;return e.activeOptionIndex===l&&e.activationTrigger===a?e:{...e,...r,isTyping:!1,activeOptionIndex:l,activationTrigger:a,__demoMode:!1}},4:(e,s)=>{var t,o,n,i;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,s.payload]};let r=s.payload,l=He(e,u=>(u.push(r),u));e.activeOptionIndex===null&&(n=(o=e.dataRef.current).isSelected)!=null&&n.call(o,s.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(r));let a={...e,...l,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},5:(e,s)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(n=>n.id!==s.id)};let o=He(e,n=>{let i=n.findIndex(r=>r.id===s.id);return i!==-1&&n.splice(i,1),n});return{...e,...o,activationTrigger:2}},6:(e,s)=>e.defaultToFirstOption===s.value?e:{...e,defaultToFirstOption:s.value},7:(e,s)=>e.activationTrigger===s.trigger?e:{...e,activationTrigger:s.trigger},8:(e,s)=>{var t,o;if(e.virtual===null)return{...e,virtual:{options:s.options,disabled:(t=s.disabled)!=null?t:()=>!1}};if(e.virtual.options===s.options&&e.virtual.disabled===s.disabled)return e;let n=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=s.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?n=i:n=null}return{...e,activeOptionIndex:n,virtual:{options:s.options,disabled:(o=s.disabled)!=null?o:()=>!1}}},9:(e,s)=>e.inputElement===s.element?e:{...e,inputElement:s.element},10:(e,s)=>e.buttonElement===s.element?e:{...e,buttonElement:s.element},11:(e,s)=>e.optionsElement===s.element?e:{...e,optionsElement:s.element},12(e){return e.inputPositionState.kind!=="Tracked"?e:{...e,inputPositionState:be.Moved}}};class tt extends Cn{constructor(s){super(s),Mt(this,"actions",{onChange:t=>{let{onChange:o,compare:n,mode:i,value:r}=this.state.dataRef.current;return de(i,{0:()=>o?.(t),1:()=>{let l=r.slice(),a=l.findIndex(u=>n(u,t));return a===-1?l.push(t):l.splice(a,1),o?.(l)}})},registerOption:(t,o)=>(this.send({type:4,payload:{id:t,dataRef:o}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(o.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:t})}),goToOption:(t,o)=>(this.send({type:6,value:!1}),this.send({type:2,...t,trigger:o})),setIsTyping:t=>{this.send({type:3,isTyping:t})},closeCombobox:()=>{var t,o;this.send({type:1}),this.send({type:6,value:!1}),(o=(t=this.state.dataRef.current).onClose)==null||o.call(t)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:t=>{this.send({type:7,trigger:t})},selectActiveOption:()=>{let t=this.selectors.activeOptionIndex(this.state);if(t!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[t]);else{let{dataRef:o}=this.state.options[t];this.actions.onChange(o.current.value)}this.actions.goToOption({focus:j.Specific,idx:t})}},setInputElement:t=>{this.send({type:9,element:t})},setButtonElement:t=>{this.send({type:10,element:t})},setOptionsElement:t=>{this.send({type:11,element:t})}}),Mt(this,"selectors",{activeDescendantId:t=>{var o,n;let i=this.selectors.activeOptionIndex(t);if(i!==null)return t.virtual?(n=t.options.find(r=>!r.dataRef.current.disabled&&t.dataRef.current.compare(r.dataRef.current.value,t.virtual.options[i])))==null?void 0:n.id:(o=t.options[i])==null?void 0:o.id},activeOptionIndex:t=>{if(t.defaultToFirstOption&&t.activeOptionIndex===null&&(t.virtual?t.virtual.options.length>0:t.options.length>0)){if(t.virtual){let{options:n,disabled:i}=t.virtual,r=n.findIndex(l=>{var a;return!((a=i?.(l))!=null&&a)});if(r!==-1)return r}let o=t.options.findIndex(n=>!n.dataRef.current.disabled);if(o!==-1)return o}return t.activeOptionIndex},activeOption:t=>{var o,n;let i=this.selectors.activeOptionIndex(t);return i===null?null:t.virtual?t.virtual.options[i??0]:(n=(o=t.options[i])==null?void 0:o.dataRef.current.value)!=null?n:null},isActive:(t,o,n)=>{var i;let r=this.selectors.activeOptionIndex(t);return r===null?!1:t.virtual?r===t.dataRef.current.calculateIndex(o):((i=t.options[r])==null?void 0:i.id)===n},shouldScrollIntoView:(t,o,n)=>!(t.virtual||t.__demoMode||t.comboboxState!==0||t.activationTrigger===0||!this.selectors.isActive(t,o,n)),didInputMove(t){return t.inputPositionState.kind==="Moved"}});{let t=this.state.id,o=kt.get(null);this.disposables.add(o.on(Sn.Push,n=>{!o.selectors.isTop(n,t)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>o.actions.push(t)),this.on(1,()=>o.actions.pop(t))}this.disposables.group(t=>{this.on(1,o=>{o.inputElement&&(t.dispose(),t.add(as(o.inputElement,o.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:s,virtual:t=null,__demoMode:o=!1}){var n;return new tt({id:s,dataRef:{current:{}},comboboxState:o?0:1,isTyping:!1,options:[],virtual:t?{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:o,inputPositionState:be.Idle})}reduce(s,t){return de(t.type,ds,s,t)}}const en=h.createContext(null);function Te(e){let s=h.useContext(en);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,tn),t}return s}function tn({id:e,virtual:s=null,__demoMode:t=!1}){let o=h.useMemo(()=>tt.new({id:e,virtual:s,__demoMode:t}),[]);return En(()=>o.dispose()),o}let ye=h.createContext(null);ye.displayName="ComboboxDataContext";function he(e){let s=h.useContext(ye);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,he),t}return s}let nn=h.createContext(null);function fs(e){let s=Te("VirtualProvider"),t=he("VirtualProvider"),{options:o}=t.virtual,n=G(s,f=>f.optionsElement),[i,r]=h.useMemo(()=>{let f=n;if(!f)return[0,0];let c=window.getComputedStyle(f);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[n]),l=wo({enabled:o.length!==0,scrollPaddingStart:i,scrollPaddingEnd:r,count:o.length,estimateSize(){return 40},getScrollElement(){return s.state.optionsElement},overscan:12}),[a,u]=h.useState(0);ee(()=>{u(f=>f+1)},[o]);let d=l.getVirtualItems(),v=G(s,f=>f.activationTrigger===oe.Pointer),m=G(s,s.selectors.activeOptionIndex);return d.length===0?null:K.createElement(nn.Provider,{value:l},K.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:f=>{f&&(v||m!==null&&o.length>m&&l.scrollToIndex(m))}},d.map(f=>{var c;return K.createElement(h.Fragment,{key:f.key},K.cloneElement((c=e.children)==null?void 0:c.call(e,{...e.slot,option:o[f.index]}),{key:`${a}-${f.key}`,"data-index":f.index,"aria-setsize":o.length,"aria-posinset":f.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}}))})))}let hs=h.Fragment;function ps(e,s){let t=h.useId(),o=zn(),{value:n,defaultValue:i,onChange:r,form:l,name:a,by:u,invalid:d=!1,disabled:v=o||!1,onClose:m,__demoMode:f=!1,multiple:c=!1,immediate:p=!1,virtual:b=null,nullable:C,...E}=e,x=Dn(i),[I=c?[]:void 0,D]=Nn(n,r,x),R=tn({id:t,virtual:b,__demoMode:f}),N=h.useRef({static:!1,hold:!1}),k=Ln(u),B=L(w=>b?u===null?b.options.indexOf(w):b.options.findIndex(te=>k(te,w)):R.state.options.findIndex(te=>k(te.dataRef.current.value,w))),V=h.useCallback(w=>de(H.mode,{[Q.Multi]:()=>I.some(te=>k(te,w)),[Q.Single]:()=>k(I,w)}),[I]),$=G(R,w=>w.virtual),M=L(()=>m?.()),H=h.useMemo(()=>({__demoMode:f,immediate:p,optionsPropsRef:N,value:I,defaultValue:x,disabled:v,invalid:d,mode:c?Q.Multi:Q.Single,virtual:b?$:null,onChange:D,isSelected:V,calculateIndex:B,compare:k,onClose:M}),[f,p,N,I,x,v,d,c,b,$,D,V,B,k,M]);ee(()=>{var w;b&&R.send({type:Qt.UpdateVirtualConfiguration,options:b.options,disabled:(w=b.disabled)!=null?w:null})},[b,b?.options,b?.disabled]),ee(()=>{R.state.dataRef.current=H},[H]);let[A,O,_,X]=G(R,w=>[w.comboboxState,w.buttonElement,w.inputElement,w.optionsElement]),J=kt.get(null),Y=G(J,h.useCallback(w=>J.selectors.isTop(w,t),[J,t]));Bn(Y,[O,_,X],()=>R.actions.closeCombobox());let W=G(R,R.selectors.activeOptionIndex),q=G(R,R.selectors.activeOption),g=Oe({open:A===T.Open,disabled:v,invalid:d,activeIndex:W,activeOption:q,value:I}),[S,y]=Vn(),F=s===null?{}:{ref:s},P=h.useCallback(()=>{if(x!==void 0)return D?.(x)},[D,x]),z=Ie();return K.createElement(y,{value:S,props:{htmlFor:_?.id},slot:{open:A===T.Open,disabled:v}},K.createElement(ns,null,K.createElement(ye.Provider,{value:H},K.createElement(en.Provider,{value:R},K.createElement(Hn,{value:de(A,{[T.Open]:Ae.Open,[T.Closed]:Ae.Closed})},a!=null&&K.createElement(Un,{disabled:v,data:I!=null?{[a]:I}:{},form:l,onReset:P}),z({ourProps:F,theirProps:E,slot:g,defaultTag:hs,name:"Combobox"}))))))}let ms="input";function gs(e,s){var t,o;let n=Te("Combobox.Input"),i=he("Combobox.Input"),r=h.useId(),l=In(),{id:a=l||`headlessui-combobox-input-${r}`,onChange:u,displayValue:d,disabled:v=i.disabled||!1,autoFocus:m=!1,type:f="text",...c}=e,p=h.useRef(null),b=ke(p,s,Qo(),n.actions.setInputElement),[C,E]=G(n,g=>[g.comboboxState,g.isTyping]),x=$t(),I=L(()=>{n.actions.onChange(null),n.state.optionsElement&&(n.state.optionsElement.scrollTop=0),n.actions.goToOption({focus:j.Nothing})}),D=h.useMemo(()=>{var g;return typeof d=="function"&&i.value!==void 0?(g=d(i.value))!=null?g:"":typeof i.value=="string"?i.value:""},[i.value,d]);rt(([g,S],[y,F])=>{if(n.state.isTyping)return;let P=p.current;P&&((F===T.Open&&S===T.Closed||g!==y)&&(P.value=g),requestAnimationFrame(()=>{if(n.state.isTyping||!P||Pt(P))return;let{selectionStart:z,selectionEnd:w}=P;Math.abs((w??0)-(z??0))===0&&z===0&&P.setSelectionRange(P.value.length,P.value.length)}))},[D,C,E]),rt(([g],[S])=>{if(g===T.Open&&S===T.Closed){if(n.state.isTyping)return;let y=p.current;if(!y)return;let F=y.value,{selectionStart:P,selectionEnd:z,selectionDirection:w}=y;y.value="",y.value=F,w!==null?y.setSelectionRange(P,z,w):y.setSelectionRange(P,z)}},[C]);let R=h.useRef(!1),N=L(()=>{R.current=!0}),k=L(()=>{x.nextFrame(()=>{R.current=!1})}),B=L(g=>{switch(n.actions.setIsTyping(!0),g.key){case Z.Enter:if(n.state.comboboxState!==T.Open||R.current)return;if(g.preventDefault(),g.stopPropagation(),n.selectors.activeOptionIndex(n.state)===null){n.actions.closeCombobox();return}n.actions.selectActiveOption(),i.mode===Q.Single&&n.actions.closeCombobox();break;case Z.ArrowDown:return g.preventDefault(),g.stopPropagation(),de(n.state.comboboxState,{[T.Open]:()=>n.actions.goToOption({focus:j.Next}),[T.Closed]:()=>n.actions.openCombobox()});case Z.ArrowUp:return g.preventDefault(),g.stopPropagation(),de(n.state.comboboxState,{[T.Open]:()=>n.actions.goToOption({focus:j.Previous}),[T.Closed]:()=>{ne.flushSync(()=>n.actions.openCombobox()),i.value||n.actions.goToOption({focus:j.Last})}});case Z.Home:if(n.state.comboboxState===T.Closed||g.shiftKey)break;return g.preventDefault(),g.stopPropagation(),n.actions.goToOption({focus:j.First});case Z.PageUp:return g.preventDefault(),g.stopPropagation(),n.actions.goToOption({focus:j.First});case Z.End:if(n.state.comboboxState===T.Closed||g.shiftKey)break;return g.preventDefault(),g.stopPropagation(),n.actions.goToOption({focus:j.Last});case Z.PageDown:return g.preventDefault(),g.stopPropagation(),n.actions.goToOption({focus:j.Last});case Z.Escape:return n.state.comboboxState!==T.Open?void 0:(g.preventDefault(),n.state.optionsElement&&!i.optionsPropsRef.current.static&&g.stopPropagation(),i.mode===Q.Single&&i.value===null&&I(),n.actions.closeCombobox());case Z.Tab:if(n.actions.setIsTyping(!1),n.state.comboboxState!==T.Open)return;i.mode===Q.Single&&n.state.activationTrigger!==oe.Focus&&n.actions.selectActiveOption(),n.actions.closeCombobox();break}}),V=L(g=>{u?.(g),i.mode===Q.Single&&g.target.value===""&&I(),n.actions.openCombobox()}),$=L(g=>{var S,y,F;let P=(S=g.relatedTarget)!=null?S:lt.find(z=>z!==g.currentTarget);if(!((y=n.state.optionsElement)!=null&&y.contains(P))&&!((F=n.state.buttonElement)!=null&&F.contains(P))&&n.state.comboboxState===T.Open)return g.preventDefault(),i.mode===Q.Single&&i.value===null&&I(),n.actions.closeCombobox()}),M=L(g=>{var S,y,F;let P=(S=g.relatedTarget)!=null?S:lt.find(z=>z!==g.currentTarget);(y=n.state.buttonElement)!=null&&y.contains(P)||(F=n.state.optionsElement)!=null&&F.contains(P)||i.disabled||i.immediate&&n.state.comboboxState!==T.Open&&x.microTask(()=>{ne.flushSync(()=>n.actions.openCombobox()),n.actions.setActivationTrigger(oe.Focus)})}),H=Ye(),A=Rn(),{isFocused:O,focusProps:_}=_t({autoFocus:m}),{isHovered:X,hoverProps:J}=zt({isDisabled:v}),Y=G(n,g=>g.optionsElement),W=Oe({open:C===T.Open,disabled:v,invalid:i.invalid,hover:X,focus:O,autofocus:m}),q=qe({ref:b,id:a,role:"combobox",type:f,"aria-controls":Y?.id,"aria-expanded":C===T.Open,"aria-activedescendant":G(n,n.selectors.activeDescendantId),"aria-labelledby":H,"aria-describedby":A,"aria-autocomplete":"list",defaultValue:(o=(t=e.defaultValue)!=null?t:i.defaultValue!==void 0?d?.(i.defaultValue):null)!=null?o:i.defaultValue,disabled:v||void 0,autoFocus:m,onCompositionStart:N,onCompositionEnd:k,onKeyDown:B,onChange:V,onFocus:M,onBlur:$},_,J);return Ie()({ourProps:q,theirProps:c,slot:W,defaultTag:ms,name:"Combobox.Input"})}let vs="button";function bs(e,s){let t=Te("Combobox.Button"),o=he("Combobox.Button"),[n,i]=h.useState(null),r=ke(s,i,t.actions.setButtonElement),l=h.useId(),{id:a=`headlessui-combobox-button-${l}`,disabled:u=o.disabled||!1,autoFocus:d=!1,...v}=e,[m,f,c]=G(t,M=>[M.comboboxState,M.inputElement,M.optionsElement]),p=Yt(f),b=m===T.Open;Ao(b,{trigger:n,action:h.useCallback(M=>{if(n!=null&&n.contains(M.target)||f!=null&&f.contains(M.target))return ve.Ignore;let H=M.target.closest('[role="option"]:not([data-disabled])');return Ft(H)?ve.Select(H):c!=null&&c.contains(M.target)?ve.Ignore:ve.Close},[n,f,c]),close:t.actions.closeCombobox,select:t.actions.selectActiveOption});let C=L(M=>{switch(M.key){case Z.Space:case Z.Enter:M.preventDefault(),M.stopPropagation(),t.state.comboboxState===T.Closed&&ne.flushSync(()=>t.actions.openCombobox()),p();return;case Z.ArrowDown:M.preventDefault(),M.stopPropagation(),t.state.comboboxState===T.Closed&&(ne.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:j.First})),p();return;case Z.ArrowUp:M.preventDefault(),M.stopPropagation(),t.state.comboboxState===T.Closed&&(ne.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:j.Last})),p();return;case Z.Escape:if(t.state.comboboxState!==T.Open)return;M.preventDefault(),t.state.optionsElement&&!o.optionsPropsRef.current.static&&M.stopPropagation(),ne.flushSync(()=>t.actions.closeCombobox()),p();return;default:return}}),E=To(()=>{t.state.comboboxState===T.Open?t.actions.closeCombobox():t.actions.openCombobox(),p()}),x=Ye([a]),{isFocusVisible:I,focusProps:D}=_t({autoFocus:d}),{isHovered:R,hoverProps:N}=zt({isDisabled:u}),{pressed:k,pressProps:B}=Wn({disabled:u}),V=Oe({open:m===T.Open,active:k||m===T.Open,disabled:u,invalid:o.invalid,value:o.value,hover:R,focus:I}),$=qe({ref:r,id:a,type:jn(e,n),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":c?.id,"aria-expanded":m===T.Open,"aria-labelledby":x,disabled:u||void 0,autoFocus:d,onKeyDown:C},E,D,N,B);return Ie()({ourProps:$,theirProps:v,slot:V,defaultTag:vs,name:"Combobox.Button"})}let xs="div",Cs=ut.RenderStrategy|ut.Static;function Ss(e,s){var t,o,n;let i=h.useId(),{id:r=`headlessui-combobox-options-${i}`,hold:l=!1,anchor:a,portal:u=!1,modal:d=!0,transition:v=!1,...m}=e,f=Te("Combobox.Options"),c=he("Combobox.Options"),p=Jo(a);p&&(u=!0);let[b,C]=ts(p),[E,x]=h.useState(null),I=es(),D=ke(s,p?b:null,f.actions.setOptionsElement,x),[R,N,k,B,V]=G(f,U=>[U.comboboxState,U.inputElement,U.buttonElement,U.optionsElement,U.activationTrigger]),$=at(N||k),M=at(B),H=wn(),[A,O]=Tn(v,E,H!==null?(H&Ae.Open)===Ae.Open:R===T.Open);Mn(A,N,f.actions.closeCombobox);let _=c.__demoMode?!1:d&&R===T.Open;Pn(_,M);let X=c.__demoMode?!1:d&&R===T.Open;An(X,{allowed:h.useCallback(()=>[N,k,B],[N,k,B])});let J=G(f,f.selectors.didInputMove)?!1:A;ee(()=>{var U;c.optionsPropsRef.current.static=(U=e.static)!=null?U:!1},[c.optionsPropsRef,e.static]),ee(()=>{c.optionsPropsRef.current.hold=l},[c.optionsPropsRef,l]),$o(R===T.Open,{container:B,accept(U){return U.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:U.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(U){U.setAttribute("role","none")}});let Y=Ye([k?.id]),W=Oe({open:R===T.Open,option:void 0}),q=L(()=>{f.actions.setActivationTrigger(oe.Pointer)}),g=L(U=>{U.preventDefault(),f.actions.setActivationTrigger(oe.Pointer)}),S=qe(p?I():{},{"aria-labelledby":Y,role:"listbox","aria-multiselectable":c.mode===Q.Multi?!0:void 0,id:r,ref:D,style:{...m.style,...C,"--input-width":bt(A,N,!0).width,"--button-width":bt(A,k,!0).width},onWheel:V===oe.Pointer?void 0:q,onMouseDown:g,...Fn(O)}),y=A&&R===T.Closed&&!e.static,F=Ke(y,(t=c.virtual)==null?void 0:t.options),P=Ke(y,c.value),z=h.useCallback(U=>c.compare(P,U),[c.compare,P]),w=h.useMemo(()=>{if(!c.virtual)return c;if(F===void 0)throw new Error("Missing `options` in virtual mode");return F!==c.virtual.options?{...c,virtual:{...c.virtual,options:F}}:c},[c,F,(o=c.virtual)==null?void 0:o.options]);c.virtual&&Object.assign(m,{children:K.createElement(ye.Provider,{value:w},K.createElement(fs,{slot:W},m.children))});let te=Ie(),_e=h.useMemo(()=>c.mode===Q.Multi?c:{...c,isSelected:z},[c,z]);return K.createElement($n,{enabled:u?e.static||A:!1,ownerDocument:$},K.createElement(ye.Provider,{value:_e},te({ourProps:S,theirProps:{...m,children:K.createElement(rs,{freeze:y},typeof m.children=="function"?(n=m.children)==null?void 0:n.call(m,W):m.children)},slot:W,defaultTag:xs,features:Cs,visible:J,name:"Combobox.Options"})))}let ys="div";function Es(e,s){var t,o,n;let i=he("Combobox.Option"),r=Te("Combobox.Option"),l=h.useId(),{id:a=`headlessui-combobox-option-${l}`,value:u,disabled:d=(n=(o=(t=i.virtual)==null?void 0:t.disabled)==null?void 0:o.call(t,u))!=null?n:!1,order:v=null,...m}=e,[f]=G(r,O=>[O.inputElement]),c=Yt(f),p=G(r,h.useCallback(O=>r.selectors.isActive(O,u,a),[u,a])),b=i.isSelected(u),C=h.useRef(null),E=kn({disabled:d,value:u,domRef:C,order:v}),x=h.useContext(nn),I=ke(s,C,x?x.measureElement:null),D=L(()=>{r.actions.setIsTyping(!1),r.actions.onChange(u)});ee(()=>r.actions.registerOption(a,E),[E,a]);let R=G(r,h.useCallback(O=>r.selectors.shouldScrollIntoView(O,u,a),[u,a]));ee(()=>{if(R)return Ge().requestAnimationFrame(()=>{var O,_;(_=(O=C.current)==null?void 0:O.scrollIntoView)==null||_.call(O,{block:"nearest"})})},[R,C]);let N=L(O=>{O.preventDefault(),O.button===Qe.Left&&(d||(D(),_n()||requestAnimationFrame(()=>c()),i.mode===Q.Single&&r.actions.closeCombobox()))}),k=L(()=>{if(d)return r.actions.goToOption({focus:j.Nothing});let O=i.calculateIndex(u);r.actions.goToOption({focus:j.Specific,idx:O})}),B=Fo(),V=L(O=>B.update(O)),$=L(O=>{if(!B.wasMoved(O)||d||p&&r.state.activationTrigger===oe.Pointer)return;let _=i.calculateIndex(u);r.actions.goToOption({focus:j.Specific,idx:_},oe.Pointer)}),M=L(O=>{B.wasMoved(O)&&(d||p&&(i.optionsPropsRef.current.hold||r.state.activationTrigger===oe.Pointer&&r.actions.goToOption({focus:j.Nothing})))}),H=Oe({active:p,focus:p,selected:b,disabled:d}),A={id:a,ref:I,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:N,onFocus:k,onPointerEnter:V,onMouseEnter:V,onPointerMove:$,onMouseMove:$,onPointerLeave:M,onMouseLeave:M};return Ie()({ourProps:A,theirProps:m,slot:H,defaultTag:ys,name:"Combobox.Option"})}let Os=Ee(ps),Is=Ee(bs),Rs=Ee(gs),ws=On,Ts=Ee(Ss),Ms=Ee(Es),$s=Object.assign(Os,{Input:Rs,Button:Is,Label:ws,Options:Ts,Option:Ms});export{$s as H,Ts as U,Ms as a,Fs as f,Rs as k};
